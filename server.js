!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=25)}([function(e,t){e.exports=require("graphql")},function(e,t){e.exports=require("mongoose")},function(e,t,r){"use strict";var n=o(r(1));o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var u=new n.default.Schema({id:{type:String,required:!0,unique:!0,index:!0,default:n.default.Types.ObjectId},userName:String,pwd:String,isActive:{type:Boolean,default:!0},category:String}),a=n.default.model("User",u);e.exports=a,e.exports.getListOfUsers=function(){return new Promise(function(e,t){a.find({}).exec(function(r,n){r?t(r):e(n)})})},e.exports.getUserById=function(e,t){var r=t.id;return new Promise(function(e,t){a.findOne({id:r}).exec(function(r,n){r?t(r):e(n)})})},e.exports.getUserByName=function(e,t){var r=t.name;return new Promise(function(e,t){a.findOne({name:r}).exec(function(r,n){r?t(r):e(n)})})},e.exports.getUserByPosition=function(e,t){var r=t.id;return new Promise(function(e,t){a.find({}).exec(function(n,o){n?t(n):e(o[r])})})},e.exports.addUser=function(e,t){var r=t.userName,n=t.pwd,o=t.isActive,u=t.category,i=new a({userName:r,pwd:n,isActive:o,category:u});return new Promise(function(e,t){i.save(function(r,n){r?t(r):e(n)})})},e.exports.updateUser=function(e,t){var r=t.id,n={name:t.name,email:t.email,tel:t.tel};return new Promise(function(e,t){a.findOneAndUpdate({id:r},{$set:n},{returnNewDocument:!0}).exec(function(r,n){r?t(r):e(n)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0),u=r(4);(n=u)&&n.__esModule;t.default=new o.GraphQLObjectType({name:"Customer",description:"Customer object",fields:function(){return{_id:{type:new o.GraphQLNonNull(o.GraphQLID)},id:{type:o.GraphQLString},firstName:{type:new o.GraphQLNonNull(o.GraphQLString)},lastName:{type:new o.GraphQLNonNull(o.GraphQLString)},email:{type:o.GraphQLString},mobile:{type:o.GraphQLString}}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0),u=r(3);(n=u)&&n.__esModule;t.default=new o.GraphQLObjectType({name:"User",description:"User object",fields:function(){return{_id:{type:new o.GraphQLNonNull(o.GraphQLID)},id:{type:o.GraphQLString},userName:{type:new o.GraphQLNonNull(o.GraphQLString)},pwd:{type:new o.GraphQLNonNull(o.GraphQLString)},isActive:{type:o.GraphQLBoolean},category:{type:o.GraphQLString}}}})},function(e,t,r){"use strict";var n,o=r(1),u=(n=o)&&n.__esModule?n:{default:n};var a=new u.default.Schema({id:{type:String,required:!0,unique:!0,index:!0,default:u.default.Types.ObjectId},name:String,price:Number,discount:Number,productType:String,description:String,rating:Number,image:String}),i=u.default.model("product",a);e.exports=i,e.exports.getListOfProducts=function(){return new Promise(function(e,t){i.find({}).exec(function(r,n){r?t(r):e(n)})})},e.exports.getProductById=function(e,t){var r=t.id;return new Promise(function(e,t){i.findOne({id:r}).exec(function(r,n){r?t(r):e(n)})})},e.exports.getProductByName=function(e,t){var r=t.name;return new Promise(function(e,t){i.findOne({name:r}).exec(function(r,n){r?t(r):e(n)})})},e.exports.getProductByProductType=function(e,t){var r=t.productType;return new Promise(function(e,t){i.find({productType:r}).exec(function(r,n){r?t(r):e(n)})})},e.exports.addProduct=function(e,t){var r=t.name,n=t.price,o=t.discount,u=t.productType,a=t.description,d=t.image,p=new i({name:r,price:n,discount:o,productType:u,description:a,image:d});return new Promise(function(e,t){p.save(function(r,n){r?t(r):e(n)})})},e.exports.updateProduct=function(e,t){var r=t.id,n=t.name,o=t.price,u=t.discount,a=t.productType,d=(t.description,t.image),p={name:n,price:o,discount:u,productType:a,description:decription,image:d};return new Promise(function(e,t){i.findOneAndUpdate({id:r},{$set:p},{returnNewDocument:!0}).exec(function(r,n){r?t(r):e(n)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);new n.GraphQLEnumType({name:"productTypeEnum",values:{WOMEN:{value:0},MEN:{value:1}}});t.default=new n.GraphQLObjectType({name:"Product",description:"Product object",fields:function(){return{_id:{type:new n.GraphQLNonNull(n.GraphQLID)},id:{type:n.GraphQLString},name:{type:n.GraphQLString},price:{type:n.GraphQLFloat},discount:{type:n.GraphQLFloat},productType:{type:n.GraphQLString},description:{type:n.GraphQLString},rating:{type:n.GraphQLFloat},image:{type:n.GraphQLString}}}})},function(e,t,r){"use strict";var n=o(r(1));o(r(2));function o(e){return e&&e.__esModule?e:{default:e}}var u=new n.default.Schema({id:{type:String,required:!0,unique:!0,index:!0,default:n.default.Types.ObjectId},firstName:String,lastName:String,email:String,mobile:String,user:{type:n.default.Schema.Types.ObjectId,ref:"user"}}),a=n.default.model("customer",u);e.exports=a,e.exports.addCustomer=function(e,t){var r=t.firstName,n=t.lastName,o=t.email,u=t.mobile,i=new a({firstName:r,lastName:n,email:o,mobile:u});return new Promise(function(e,t){i.save(function(r,n){r?t(r):e(n)})})}},function(e,t,r){"use strict";e.exports={db:{uri:Object({NODE_ENV:"production"}).MONGO_URI||"mongodb://revit:Egbdfxk8!@ds257848.mlab.com:57848/mydb",options:{user:Object({NODE_ENV:"production"}).MONGO_USERNAME||"revit",pass:Object({NODE_ENV:"production"}).MONGO_PASSWORD||"Egbdfxk8!"}}}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(t){var n=r(8),o=r(1);e.exports=function(){var e=void 0;return o.Promise=t.Promise,1!==o.connection.readyState?(console.log("Connecting to Mongo "+n.db.uri+"..."),e=o.connect(n.db.uri,{useMongoClient:!0},function(e){e&&logger.error("Could not connect to MongoDB!")}),o.connection.on("error",function(e){if("ETIMEDOUT"===e.message.code)return console.log("Mongo connection timeout!",e),void setTimeout(function(){o.connect(n.db.uri,n.db.options)},1e3);logger.error("Could not connect to MongoDB!")}),o.connection.once("open",function(){console.log("Mongo DB connected.")})):(console.log("Mongo already connected."),e=o),e}}).call(this,r(9))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(r(6)),u=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}t.default={addProduct:{type:o.default,args:{name:{name:"name",type:new n.GraphQLNonNull(n.GraphQLString)},price:{name:"price",type:new n.GraphQLNonNull(n.GraphQLString)},discount:{name:"discount",type:new n.GraphQLNonNull(n.GraphQLString)},productType:{name:"productType",type:new n.GraphQLNonNull(n.GraphQLString)},description:{name:"description",type:new n.GraphQLNonNull(n.GraphQLString)},image:{name:"image",type:new n.GraphQLNonNull(n.GraphQLString)}},resolve:u.default.addProduct},updateProduct:{type:o.default,args:{id:{type:n.GraphQLID},name:{name:"name",type:new n.GraphQLNonNull(n.GraphQLString)},price:{name:"price",type:new n.GraphQLNonNull(n.GraphQLString)},discount:{name:"discount",type:new n.GraphQLNonNull(n.GraphQLString)},description:{name:"description",type:new n.GraphQLNonNull(n.GraphQLString)},image:{name:"image",type:new n.GraphQLNonNull(n.GraphQLString)}},resolve:u.default.updateProduct}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(r(4)),u=a(r(2));a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}t.default={addUser:{type:o.default,args:{userName:{name:"lastName",type:new n.GraphQLNonNull(n.GraphQLString)},pwd:{name:"pwd",type:new n.GraphQLNonNull(n.GraphQLString)},isActive:{name:"isActive",type:n.GraphQLBoolean},category:{name:"category",type:new n.GraphQLNonNull(n.GraphQLString)}},resolve:u.default.addUser},updateUser:{type:o.default,args:{id:{type:n.GraphQLID},name:{name:"name",type:new n.GraphQLNonNull(n.GraphQLString)},email:{name:"email",type:new n.GraphQLNonNull(n.GraphQLString)},tel:{name:"tel",type:new n.GraphQLNonNull(n.GraphQLString)}},resolve:u.default.updateUser}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(r(3)),u=a(r(7));function a(e){return e&&e.__esModule?e:{default:e}}t.default={addCustomer:{type:o.default,args:{firstName:{name:"firstName",type:new n.GraphQLNonNull(n.GraphQLString)},lastName:{name:"lastName",type:new n.GraphQLNonNull(n.GraphQLString)},email:{name:"email",type:new n.GraphQLNonNull(n.GraphQLString)},mobile:{name:"mobile",type:new n.GraphQLNonNull(n.GraphQLString)}},resolve:u.default.addCustomer}}},function(e,t,r){"use strict";var n=r(0),o=i(r(13)),u=i(r(12)),a=i(r(11));function i(e){return e&&e.__esModule?e:{default:e}}var d=new n.GraphQLObjectType({name:"Mutation",description:"Realize Root Mutations",fields:function(){return{addCustomer:o.default.addCustomer,addUser:u.default.addUser,updateUser:u.default.updateUser,addProduct:a.default.addProduct,updateProduct:a.default.updateProduct}}});e.exports=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(r(6)),u=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}t.default={products:{type:new n.GraphQLList(o.default),resolve:u.default.getListOfProducts},product:{type:o.default,args:{id:{type:n.GraphQLID}},resolve:u.default.getProductById},productId:{type:o.default,args:{id:{type:n.GraphQLID}},resolve:u.default.getProductById},productByName:{type:o.default,args:{name:{type:n.GraphQLString}},resolve:u.default.getProductByName},productByProductType:{type:new n.GraphQLList(o.default),args:{productType:{type:n.GraphQLString}},resolve:u.default.getProductByProductType}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=a(r(4)),u=a(r(2));function a(e){return e&&e.__esModule?e:{default:e}}t.default={users:{type:new n.GraphQLList(o.default),resolve:u.default.getListOfUsers},user:{type:o.default,args:{id:{type:n.GraphQLID}},resolve:u.default.getUserByPosition},userId:{type:o.default,args:{id:{type:n.GraphQLID}},resolve:u.default.getUserById},userByName:{type:o.default,args:{name:{type:n.GraphQLString}},resolve:u.default.getUserByName}}},function(e,t,r){"use strict";var n=r(0),o=a(r(16)),u=a(r(15));function a(e){return e&&e.__esModule?e:{default:e}}var i=new n.GraphQLObjectType({name:"Query",description:"Realize Root Query",fields:function(){return{user:o.default.user,users:o.default.users,userId:o.default.userId,userByName:o.default.userByName,product:u.default.product,products:u.default.products,productId:u.default.productId,productByName:u.default.productByName,productByProductType:u.default.productByProductType}}});e.exports=i},function(e,t,r){"use strict";var n=r(0),o=a(r(17)),u=a(r(14));function a(e){return e&&e.__esModule?e:{default:e}}var i=new n.GraphQLSchema({query:o.default,mutation:u.default});e.exports=i},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("express-graphql")},function(e,t){e.exports=require("express")},function(e,t,r){"use strict";var n=r(23),o=r(22),u=(r(1),r(21)),a=r(20),i=r(19),d=r(18),p=(r(10)(),n());p.get("/",function(e,t){t.send("Hello World!fffproduction")}),p.use(u({filter:function(e,t){return/json|text|javascript|css/.test(t.getHeader("Content-Type"))},level:3,threshold:512})),p.use(a.json()),p.use("/graphql",i(),o({schema:d,graphiql:!1})),p.use("/graphiql",o({schema:d,graphiql:!0})),console.log("mygraphql-app is running on port "+Object({NODE_ENV:"production"}).PORT),p.listen(Object({NODE_ENV:"production"}).PORT||8080)},function(e,t,r){e.exports=r(24)}]);